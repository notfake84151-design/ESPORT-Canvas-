<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FF Esports: Ultra-Pro Tool (Unlocked)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        /* --- ALL FONTS IMPORT --- */
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Rajdhani:wght@500;700&family=Orbitron:wght@400;700&family=Teko:wght@400;700&family=Nosifer&family=Permanent+Marker&family=Righteous&display=swap');
        
        :root { 
            --neon-purple: #9d00ff; 
            --cyan: #00f2ff; 
            --gold: #ffd700; 
            --silver: #c0c0c0;
            --bronze: #cd7f32;
            --table-opacity: 0.1; 
            --header-color: #9d00ff;
        }

        /* --- LOCK SCREEN OVERLAY --- */
        #lock-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: #05000a; z-index: 99999; display: flex; align-items: center; justify-content: center;
        }
        .lock-box { 
            background: rgba(20, 20, 20, 0.95); padding: 40px; border-radius: 20px; 
            border: 2px solid var(--cyan); text-align: center; box-shadow: 0 0 30px var(--neon-purple);
            max-width: 320px; width: 90%;
        }
        .ec-display { font-family: 'Orbitron'; font-size: 28px; color: var(--gold); margin: 15px 0; letter-spacing: 2px; text-shadow: 0 0 10px var(--gold); }

        body { background: #05000a; color: white; font-family: 'Rajdhani', sans-serif; display: flex; flex-direction: column; align-items: center; padding: 10px; margin: 0; min-height: 100vh; }
        
        .tabs-container { display: flex; gap: 8px; margin-bottom: 20px; margin-top: 10px; flex-wrap: wrap; justify-content: center; }
        .tab-btn { background: rgba(255,255,255,0.05); color: #ccc; border: 1px solid #333; padding: 10px 15px; cursor: pointer; border-radius: 5px; font-family: 'Orbitron'; font-size: 11px; text-transform: uppercase; transition: 0.3s; }
        .tab-btn.active { background: var(--cyan); color: #000; box-shadow: 0 0 15px var(--cyan); border-color: var(--cyan); }
        
        .app-section { display: none; width: 100%; max-width: 950px; position: relative; }
        .app-section.active { display: block; }
        
        .design-panel { background: rgba(0,0,0,0.8); border: 1px solid var(--cyan); padding: 15px; border-radius: 10px; margin-bottom: 20px; display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; align-items: center; width: 95%; }
        
        #capture { 
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url('https://wallpaperaccess.com/full/1154030.jpg'); 
            background-size: cover; background-position: center; padding: 40px 20px; border-radius: 20px; 
            border: 3px solid var(--header-color); width: 95%; position: relative; overflow: hidden;
        }

        .header-edit { font-family: 'Bebas Neue', cursive; font-size: 65px; text-align: center; width: 100%; border: none; background: transparent; color: white; letter-spacing: 5px; text-shadow: 2px 2px 10px black; }
        
        table { width: 100%; border-collapse: collapse; background: rgba(0, 0, 0, var(--table-opacity)); backdrop-filter: blur(8px); border-radius: 12px; overflow: hidden; margin-top: 20px; }
        th { background: var(--header-color); color: white; padding: 15px; text-transform: uppercase; font-size: 16px; border-bottom: 2px solid rgba(255,255,255,0.1); }
        td { padding: 12px; text-align: center; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }

        .rank-1 { background: rgba(255, 215, 0, 0.2) !important; border: 2px solid var(--gold) !important; }
        .rank-2 { background: rgba(192, 192, 192, 0.15) !important; border: 2px solid var(--silver) !important; }
        .rank-3 { background: rgba(205, 127, 50, 0.15) !important; border: 2px solid var(--bronze) !important; }

        .logo-box { width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--cyan); background: rgba(0,0,0,0.6); overflow: hidden; display: inline-block; vertical-align: middle; }
        .logo-img { width: 100%; height: 100%; object-fit: cover; }
        
        input, select { background: rgba(0,0,0,0.6); border: 1px solid var(--cyan); color: white; border-radius: 4px; padding: 8px; text-align: center; }
        
        .roster-card { background: rgba(13,0,26,0.9); border: 1px solid #222; padding: 20px; border-radius: 15px; }
        .roster-row { display: flex; align-items: center; gap: 5px; margin-bottom: 10px; border-bottom: 1px solid #1a1a1a; padding-bottom: 8px; flex-wrap: wrap; }
        .slot-label { color: var(--cyan); font-weight: bold; width: 50px; font-size: 11px; }
        .btn { padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; text-transform: uppercase; transition: 0.3s; margin: 5px; }

        /* --- CERTIFICATE STYLE --- */
        #cert-capture {
            width: 800px; height: 500px; background: #05000a; border: 10px solid var(--neon-purple);
            position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center;
            overflow: hidden; color: white; background-size: cover; background-position: center;
        }
        .cert-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1; }
        .cert-content { position: relative; z-index: 2; text-align: center; width: 90%; border: 2px solid var(--cyan); height: 90%; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .cert-winner-logo { width: 100px; height: 100px; border-radius: 50%; border: 3px solid var(--gold); margin-bottom: 10px; object-fit: cover; box-shadow: 0 0 15px var(--gold); }
        .cert-title { font-family: 'Bebas Neue'; font-size: 80px; color: var(--gold); margin: 0; letter-spacing: 5px; text-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
        .cert-winner-name { font-family: 'Orbitron'; font-size: 45px; color: #fff; margin: 10px 0; border-bottom: 2px solid var(--cyan); min-width: 400px; padding-bottom: 5px; text-transform: uppercase; }
    </style>
</head>
<body>

    <div id="lock-screen">
        <div class="lock-box">
            <h2 style="font-family:'Orbitron'; color:var(--cyan); margin:0; font-size: 18px;">TOOL ACTIVATION</h2>
            <p style="font-size:11px; color:#aaa; margin-top:10px;">SHARE THIS EC CODE TO ADMIN</p>
            <div class="ec-display" id="ec-id-display">GENERATING...</div>
            <input type="number" id="unlock-key-input" placeholder="ENTER ACTIVATION KEY" style="width:100%; padding:12px; margin-bottom:15px; font-size:16px;">
            <button class="btn" style="background:var(--cyan); color:#000; width:100%;" onclick="checkUnlock()">UNLOCK NOW</button>
            <p id="unlock-err" style="color:#ff4d4d; font-size:12px; margin-top:10px; font-weight:bold;"></p>
        </div>
    </div>

    <h1 style="font-family:'Orbitron'; color:var(--cyan); margin:10px 0; font-size:18px;">üõ°Ô∏è ESPORT CANVAS PRO</h1>

    <div class="tabs-container">
        <button class="tab-btn active" id="b-ros" onclick="switchTab('roster-sec', 'b-ros')">üõ°Ô∏è ROSTER</button>
        <button class="tab-btn" id="b-tab" onclick="switchTab('result-sec', 'b-tab')">üèÜ POINT TABLE</button>
        <button class="tab-btn" id="b-ver" onclick="switchTab('verify-sec', 'b-ver')">üîç LIVE VERIFY</button>
        <button class="tab-btn" id="b-cert" onclick="switchTab('cert-sec', 'b-cert')">üèÖ CERTIFICATE</button>
    </div>

    <div id="roster-sec" class="app-section active">
        <div class="roster-card">
            <h2 style="font-family:'Bebas Neue'; color:var(--gold); margin:0;">TEAM ROSTER ENTRY</h2>
            <div id="roster-list" style="margin-top:15px;"></div>
            <button class="btn" style="background:#00ff88; color:#000; width:100%;" onclick="saveRoster()">SAVE DATA</button>
        </div>
    </div>

    <div id="result-sec" class="app-section">
        <div class="design-panel">
            <div><label>Opacity:</label> <input type="range" min="0" max="0.9" step="0.1" value="0.1" oninput="updateOpacity(this.value)"></div>
            <div><label>Theme:</label> <input type="color" value="#9d00ff" onchange="updateThemeColor(this.value)"></div>
            <div><label>Font:</label>
                <select id="font-select" onchange="updateFont(this.value)">
                    <option value="'Rajdhani'">Modern</option>
                    <option value="'Orbitron'">Cyberpunk</option>
                    <option value="'Bebas Neue'">Impact</option>
                    <option value="'Nosifer'">Horror</option>
                    <option value="'Permanent Marker'">Marker</option>
                    <option value="'Righteous'">Stylish</option>
                    <option value="'Teko'">Bold</option>
                </select>
            </div>
            <label class="btn" style="background:var(--cyan); color:#000;"> üñºÔ∏è Custom BG <input type="file" hidden accept="image/*" onchange="changeMainBG(event)"></label>
        </div>

        <div id="capture">
            <input type="text" class="header-edit" value="VOLCANO ESPORTS">
            <input type="text" style="text-align:center; width:100%; background:transparent; border:none; color:#ddd; font-size:18px; font-family: inherit;" value="COMMUNITY CUP">
            
            <table id="mainTable">
                <thead><tr><th>Rank</th><th>Logo</th><th>Team Name</th><th>BY</th><th>P.P</th><th>Kills</th><th>Total</th></tr></thead>
                <tbody id="tableBody"></tbody>
            </table>

            <div style="display: flex; justify-content: space-between; margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.5); border-radius: 8px; border: 1px solid var(--header-color);">
                <div style="font-family: 'Orbitron'; font-size: 14px; color: var(--cyan);">
                    TOTAL TEAMS: <input type="text" value="48" style="width:40px; border:none; background:transparent; color:white; font-weight:bold; font-size:16px;">
                </div>
                <div style="font-family: 'Orbitron'; font-size: 14px; color: var(--gold);">
                    PRIZE POOL: <input type="text" value="‚Çπ5000" style="width:80px; border:none; background:transparent; color:white; font-weight:bold; font-size:16px;">
                </div>
            </div>

            <div style="display: flex; justify-content: space-around; gap: 10px; margin-top: 20px;">
                <div style="background:rgba(0,0,0,0.6); padding:10px; border-radius:10px; border:1px solid var(--gold); text-align:center; width:30%;">
                    <div style="color:var(--gold); font-family:'Bebas Neue';">üèÜ 1st MVP</div>
                    <img src="" id="mvp-1-pre" style="width:50px; height:50px; border-radius:50%; display:none; margin:5px auto; border:2px solid var(--gold);">
                    <input type="file" style="font-size:8px; width:100%;" onchange="loadMVP(event, 1)">
                    <input type="text" placeholder="NAME" style="width:80%; font-size:12px; margin-top:5px; border:none; border-bottom:1px solid #555;">
                    <input type="text" value="KILLS: 0" style="width:80%; font-size:11px; color:var(--cyan); border:none; background:transparent; margin-top:2px;">
                </div>
                <div style="background:rgba(0,0,0,0.6); padding:10px; border-radius:10px; border:1px solid var(--silver); text-align:center; width:30%;">
                    <div style="color:var(--silver); font-family:'Bebas Neue';">ü•à 2nd MVP</div>
                    <img src="" id="mvp-2-pre" style="width:50px; height:50px; border-radius:50%; display:none; margin:5px auto; border:2px solid var(--silver);">
                    <input type="file" style="font-size:8px; width:100%;" onchange="loadMVP(event, 2)">
                    <input type="text" placeholder="NAME" style="width:80%; font-size:12px; margin-top:5px; border:none; border-bottom:1px solid #555;">
                    <input type="text" value="KILLS: 0" style="width:80%; font-size:11px; color:var(--silver); border:none; background:transparent; margin-top:2px;">
                </div>
                <div style="background:rgba(0,0,0,0.6); padding:10px; border-radius:10px; border:1px solid var(--bronze); text-align:center; width:30%;">
                    <div style="color:var(--bronze); font-family:'Bebas Neue';">ü•â 3rd MVP</div>
                    <img src="" id="mvp-3-pre" style="width:50px; height:50px; border-radius:50%; display:none; margin:5px auto; border:2px solid var(--bronze);">
                    <input type="file" style="font-size:8px; width:100%;" onchange="loadMVP(event, 3)">
                    <input type="text" placeholder="NAME" style="width:80%; font-size:12px; margin-top:5px; border:none; border-bottom:1px solid #555;">
                    <input type="text" value="KILLS: 0" style="width:80%; font-size:11px; color:var(--bronze); border:none; background:transparent; margin-top:2px;">
                </div>
            </div>
        </div>

        <div style="margin:20px; display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
            <button class="btn" style="background:white; color:#000;" onclick="sortRows()">Sort Ranking</button>
            <button class="btn" style="background:var(--neon-purple); color:white;" onclick="saveImage('capture')">Download Table</button>
        </div>
    </div>

    <div id="cert-sec" class="app-section">
        <div class="design-panel">
            <input type="text" placeholder="Title (e.g. CHAMPIONS)" oninput="document.getElementById('cert-title-txt').innerText = this.value">
            <input type="text" placeholder="Team Name" oninput="document.getElementById('cert-winner-txt').innerText = this.value">
            <input type="text" placeholder="Organizer" oninput="document.getElementById('cert-org').innerText = this.value">
            <label class="btn" style="background:var(--gold); color:#000; font-size: 11px;"> üõ°Ô∏è Winner Logo <input type="file" hidden accept="image/*" onchange="changeCertLogo(event)"></label>
            <label class="btn" style="background:var(--cyan); color:#000; font-size: 11px;"> üñºÔ∏è Cert BG <input type="file" hidden accept="image/*" onchange="changeCertBG(event)"></label>
        </div>

        <div id="cert-capture">
            <div class="cert-overlay"></div>
            <div class="cert-content" id="cert-area">
                <img src="" id="cert-logo-display" class="cert-winner-logo" style="display:none;">
                <h1 class="cert-title" id="cert-title-txt">CHAMPIONS</h1>
                <p style="color:var(--cyan); font-size:14px; margin:0; text-transform: uppercase;">Awarded To</p>
                <div class="cert-winner-name" id="cert-winner-txt">TEAM NAME</div>
                <p style="width:80%; font-size:14px; color:#ccc;">For outstanding performance and securing the victory in the tournament.</p>
                <div style="display:flex; justify-content:space-around; width:100%; margin-top:30px;">
                    <div style="border-top:1px solid #555; width:130px; font-size:11px; padding-top:5px;">ORGANIZER: <br><b id="cert-org" style="color:var(--cyan)">ADMIN</b></div>
                    <div style="border-top:1px solid #555; width:130px; font-size:11px; padding-top:5px;">DATE: <br><b style="color:var(--cyan)">2026</b></div>
                </div>
            </div>
        </div>
        <div style="text-align:center; margin-top:20px;">
            <button class="btn" style="background:var(--gold); color:#000;" onclick="saveImage('cert-capture')">Download Certificate</button>
        </div>
    </div>

    <div id="verify-sec" class="app-section">
        <div class="roster-card" style="text-align:center;">
            <h2 style="font-family:'Orbitron'; color:var(--cyan);">üîç LIVE CHECK</h2>
            <input type="text" id="checkName" placeholder="Enter Player Name..." style="width:80%; padding:15px; margin:20px 0;">
            <button class="btn" style="background:var(--cyan); color:#000; width:80%;" onclick="verifyPlayer()">VERIFY</button>
            <div id="vResult" style="margin-top:20px; font-size:22px; font-weight:bold;"></div>
        </div>
    </div>

<script>
    // --- LOCK LOGIC: EC CODE GENERATOR ---
    const generatedEC = Math.floor(1000 + Math.random() * 9000);
    document.getElementById('ec-id-display').innerText = "EC CODE: " + generatedEC;

    function checkUnlock() {
        const val = document.getElementById('unlock-key-input').value;
        const correct = (generatedEC * 3) + 50;
        if(parseInt(val) === correct) {
            document.getElementById('lock-screen').style.display = 'none';
            localStorage.setItem('esport_canvas_access', 'granted');
        } else {
            document.getElementById('unlock-err').innerText = "‚ùå INVALID KEY! TRY AGAIN.";
        }
    }

if(localStorage.getItem('esport_canvas_access') === 'granted') {
        document.getElementById('lock-screen').style.display = 'none';
    }

    const tbody = document.getElementById('tableBody');
    const rosterList = document.getElementById('roster-list');
    const db = {};

    function switchTab(s, b) {
        document.querySelectorAll('.app-section').forEach(x => x.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(x => x.classList.remove('active'));
        document.getElementById(s).classList.add('active');
        document.getElementById(b).classList.add('active');
    }

    for(let i=1; i<=12; i++) {
        tbody.innerHTML += `<tr>
            <td><span class="rank-icon"></span> <span class="rank-num">${i}</span></td>
            <td><div class="logo-box"><img src="" class="logo-img" id="logo-${i}" style="display:none"></div>
            <input type="file" style="width:50px; font-size:8px;" onchange="loadLogo(event, ${i})"></td>
            <td><input type="text" value="TEAM ${i}" style="border:none; background:transparent; color:white;"></td>
            <td><input type="number" value="0" style="width:30px"></td>
            <td><input type="number" class="pp" value="0" oninput="sum(this)" style="width:35px"></td>
            <td><input type="number" class="kp" value="0" oninput="sum(this)" style="width:35px"></td>
            <td class="total-pts" style="font-weight:bold; color:var(--cyan);">0</td></tr>`;

        rosterList.innerHTML += `<div class="roster-row"><span class="slot-label">SLOT ${i}</span>
            <input type="text" placeholder="Team" id="rt-${i}" style="width:100px;">
            <input type="text" placeholder="P1" id="rp1-${i}" style="width:70px">
            <input type="text" placeholder="P2" id="rp2-${i}" style="width:70px">
            <input type="text" placeholder="P3" id="rp3-${i}" style="width:70px">
            <input type="text" placeholder="P4" id="rp4-${i}" style="width:70px">
            <input type="text" placeholder="P5" id="rp5-${i}" style="width:70px"></div>`;
    }

    function sum(el) { 
        const row = el.closest('tr'); 
        const p = parseInt(row.querySelector('.pp').value) || 0;
        const k = parseInt(row.querySelector('.kp').value) || 0;
        row.querySelector('.total-pts').innerText = p + k; 
    }
    
    function sortRows() {
        const rows = Array.from(tbody.querySelectorAll('tr'));
        rows.sort((a,b) => parseInt(b.querySelector('.total-pts').innerText) - parseInt(a.querySelector('.total-pts').innerText));
        tbody.innerHTML = '';
        rows.forEach((row, index) => {
            row.classList.remove('rank-1', 'rank-2', 'rank-3');
            const iconSpan = row.querySelector('.rank-icon');
            iconSpan.innerText = index < 3 ? ['üèÜ', 'ü•à', 'ü•â'][index] : '';
            if(index < 3) row.classList.add(`rank-${index+1}`);
            row.querySelector('.rank-num').innerText = index + 1;
            tbody.appendChild(row);
        });
    }

    function saveRoster() { 
        for(let i=1;i<=12;i++){ 
            const t=document.getElementById(`rt-${i}`).value; 
            db[t]=[document.getElementById(`rp1-${i}`).value.toLowerCase(),document.getElementById(`rp2-${i}`).value.toLowerCase(),document.getElementById(`rp3-${i}`).value.toLowerCase(),document.getElementById(`rp4-${i}`).value.toLowerCase(),document.getElementById(`rp5-${i}`).value.toLowerCase()]; 
        } 
        alert("Roster Saved!"); 
    }

    function verifyPlayer() { 
        const n=document.getElementById('checkName').value.toLowerCase().trim(); 
        let f=false; 
        for(let t in db){ if(db[t].includes(n)){ document.getElementById('vResult').innerHTML=`<span style="color:lime">‚úÖ VERIFIED: ${t}</span>`; f=true; break; } } 
        if(!f) document.getElementById('vResult').innerHTML=`<span style="color:red">‚ùå NOT FOUND</span>`; 
    }

    function updateOpacity(v) { document.documentElement.style.setProperty('--table-opacity', v); }
    function updateThemeColor(v) { document.documentElement.style.setProperty('--header-color', v); }
    function updateFont(v) { 
        document.getElementById('capture').style.fontFamily = v;
        const allInp = document.querySelectorAll('#capture input');
        allInp.forEach(i => i.style.fontFamily = v);
    }
    function changeMainBG(ev) { const r = new FileReader(); r.onload = (e) => document.getElementById('capture').style.backgroundImage = `url(${e.target.result})`; r.readAsDataURL(ev.target.files[0]); }
    function loadLogo(ev, i) { const img = document.getElementById(`logo-${i}`); img.src = URL.createObjectURL(ev.target.files[0]); img.style.display = 'block'; }
    function loadMVP(ev, id) { const img = document.getElementById(`mvp-${id}-pre`); img.src = URL.createObjectURL(ev.target.files[0]); img.style.display = 'block'; }
    function changeCertBG(ev) { const r = new FileReader(); r.onload = (e) => document.getElementById('cert-capture').style.backgroundImage = `url(${e.target.result})`; r.readAsDataURL(ev.target.files[0]); }
    function changeCertLogo(ev) { const img = document.getElementById('cert-logo-display'); img.src = URL.createObjectURL(ev.target.files[0]); img.style.display = 'block'; }
    function saveImage(id) { html2canvas(document.getElementById(id), { scale: 2 }).then(canvas => { const link = document.createElement('a'); link.download = id + '.png'; link.href = canvas.toDataURL(); link.click(); }); }
</script>
</body>
</html>
